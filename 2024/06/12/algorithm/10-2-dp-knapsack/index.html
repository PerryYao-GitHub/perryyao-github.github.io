<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="约定把 cost 和 value 统称为 stuff (物品), 使用 stuff:[0, i] 记号方便描述 0-1 KnapsackOrigin 给出 n 种选择, 每种选择有对应的 cost 和 value, 在总 cost 不超过 capacity 时, 最大化 value 的总和 每种选择只能选择一次  二维 dp 1234567891011121314151617181920clas">
<meta property="og:type" content="article">
<meta property="og:title" content="DP - Knapsack">
<meta property="og:url" content="http://example.com/2024/06/12/algorithm/10-2-dp-knapsack/index.html">
<meta property="og:site_name" content="Perry&#39;s Blog">
<meta property="og:description" content="约定把 cost 和 value 统称为 stuff (物品), 使用 stuff:[0, i] 记号方便描述 0-1 KnapsackOrigin 给出 n 种选择, 每种选择有对应的 cost 和 value, 在总 cost 不超过 capacity 时, 最大化 value 的总和 每种选择只能选择一次  二维 dp 1234567891011121314151617181920clas">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2024-06-11T16:00:00.000Z">
<meta property="article:modified_time" content="2025-02-02T07:16:52.000Z">
<meta property="article:author" content="Perry Yao">
<meta property="article:tag" content="key-algorithm">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/2024/06/12/algorithm/10-2-dp-knapsack/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>DP - Knapsack | Perry's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Perry's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">tech & muse & sleep</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-schedule">

    <a href="/schedule/" rel="section"><i class="fa fa-calendar fa-fw"></i>Schedule</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/12/algorithm/10-2-dp-knapsack/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars.githubusercontent.com/u/126999663?v=4">
      <meta itemprop="name" content="Perry Yao">
      <meta itemprop="description" content="...">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Perry's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          DP - Knapsack
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-06-12 00:00:00" itemprop="dateCreated datePublished" datetime="2024-06-12T00:00:00+08:00">2024-06-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-02-02 15:16:52" itemprop="dateModified" datetime="2025-02-02T15:16:52+08:00">2025-02-02</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/algorithm/" itemprop="url" rel="index"><span itemprop="name">algorithm</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <hr>
<h1 id="约定"><a href="#约定" class="headerlink" title="约定"></a>约定</h1><p>把 cost 和 value 统称为 stuff (物品), 使用 <code>stuff:[0, i]</code> 记号方便描述</p>
<h1 id="0-1-Knapsack"><a href="#0-1-Knapsack" class="headerlink" title="0-1 Knapsack"></a>0-1 Knapsack</h1><h2 id="Origin"><a href="#Origin" class="headerlink" title="Origin"></a>Origin</h2><blockquote>
<p>给出 n 种选择, 每种选择有对应的 cost 和 value, 在总 cost 不超过 capacity 时, 最大化 value 的总和</p>
<p>每种选择只能选择一次</p>
</blockquote>
<p><strong>二维 dp</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">solve01Knapsack</span><span class="params">(<span class="type">int</span>[] value, <span class="type">int</span>[] cost, <span class="type">int</span> cap)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> cost.length;</span><br><span class="line">        <span class="type">int</span>[][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[n][cap + <span class="number">1</span>]; </span><br><span class="line">        <span class="comment">// stuff[0..=i]选择中选取, 其对应的总 cost 不超过 c 的条件下, 能达到的总 value 最大值</span></span><br><span class="line">        <span class="comment">// initialize</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> cost[<span class="number">0</span>]; c &lt;= cap; c++) dp[<span class="number">0</span>][c] =  value[<span class="number">0</span>];  <span class="comment">// i = 0 只放 stuff[0] 的情况</span></span><br><span class="line">        <span class="comment">// calculate 注意计算访问, i 应该从 1 开始, 而 c 从 0 或 1 开始都行</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n; i ++) &#123;  <span class="comment">// i: 1, 2, ..., n - 1</span></span><br><span class="line">        	<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> <span class="number">0</span>; c &lt;= cap; c++) &#123;  <span class="comment">// c: 0, 1, 2, ..., cap</span></span><br><span class="line">                dp[i][c] = Math.max(</span><br><span class="line">                    dp[i - <span class="number">1</span>][c],  <span class="comment">// un-include choice i</span></span><br><span class="line">                    (c - cost[i] &lt; <span class="number">0</span> ) ? <span class="number">0</span> : dp[i - <span class="number">1</span>][c - cost[i]] + value[i]  <span class="comment">// include choice i</span></span><br><span class="line">                );</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[value.length - <span class="number">1</span>][cap];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>两个 for <strong>可</strong>交换顺序, 但最好<strong>先 c 后 i &lt;&#x3D;&gt; c 在内 i 在外 &lt;&#x3D;&gt; 先 cost 后 choice</strong></li>
<li>calculate 时, i 从 1 开始, c 从 0 或 1 开始都行</li>
</ul>
<p><strong>一维 dp (滚动数组)</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">solve01Knapsack</span><span class="params">(<span class="type">int</span>[] value, <span class="type">int</span>[] cost, <span class="type">int</span> cap)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> cost.length;</span><br><span class="line">        <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[cap + <span class="number">1</span>];</span><br><span class="line">        <span class="comment">// dp[c]: 从所有 stuff 中选取, 在总 cost 不超过 c 的条件下, 总 value 的最大值</span></span><br><span class="line">        <span class="comment">// initialize 全部初始化成 0</span></span><br><span class="line">        <span class="comment">// calculate 注意倒序; for 不能颠倒</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> cap; c - cost[i] &gt;= <span class="number">0</span>; c --) &#123;  <span class="comment">// cost 枚举要倒序</span></span><br><span class="line">                dp[c] = Math.max(</span><br><span class="line">                    dp[c],  <span class="comment">// un-include choice i</span></span><br><span class="line">                    dp[c - cost[i]] + value[i]  <span class="comment">// include choice i</span></span><br><span class="line">                );</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[cap];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>c 的遍历必须倒序</li>
<li>for 不能颠倒: <strong>先 c 后 i</strong>. 原因是如果先遍历i, 后遍历 c, 会出现物品<strong>重复添加</strong></li>
<li><strong>0-1 背包的滚动数组</strong>写法中, 一定是 <strong>先 c 后 i &lt;&#x3D;&gt; c 在内 i 在外</strong></li>
</ul>
<h2 id="Var-1-Closest-Sum"><a href="#Var-1-Closest-Sum" class="headerlink" title="Var 1: Closest Sum"></a>Var 1: Closest Sum</h2><blockquote>
<p><strong>找最接近某个值的组合</strong></p>
<p>给出一个非负数组 nums 和目标值 target, 找出 nums 中, 和最接近target的值</p>
<p>相当于原型中 cost[i] &#x3D;&#x3D; value[i]</p>
<p>每个 nums[i] 只能用 1 次</p>
</blockquote>
<p><strong>二维 dp</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">closestSum</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> nums.length;</span><br><span class="line">        <span class="type">int</span>[][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[n][target + <span class="number">1</span>];</span><br><span class="line">        <span class="comment">// dp[i][t]: 选取 nums[0..=i] 之间的数字, 其和能够达到 target (不能超过) 的最接近的值</span></span><br><span class="line">        <span class="comment">// initialize</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">t</span> <span class="operator">=</span> nums[<span class="number">0</span>]; t &lt;= target; t++) dp[<span class="number">0</span>][t] = nums[<span class="number">0</span>]; <span class="comment">// nums[0] 超过了 t, 故不合法, 初始化为 0</span></span><br><span class="line">        <span class="comment">// calculate</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">t</span> <span class="operator">=</span> <span class="number">1</span>; t &lt;= target; t++) &#123;</span><br><span class="line">                dp[i][t] = Math.max(</span><br><span class="line">                    dp[i - <span class="number">1</span>][t], </span><br><span class="line">                    (t - nums[i] &lt; <span class="number">0</span>) ? <span class="number">0</span> : dp[i - <span class="number">1</span>][t - nums[i]] + nums[i]</span><br><span class="line">                );</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[n - <span class="number">1</span>][target];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>一维 dp</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">closestSum</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> nums.length;</span><br><span class="line">        <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[target + <span class="number">1</span>];</span><br><span class="line">        <span class="comment">// dp[t]: 选取 nums 中全部数字, 其和能够达到 target (不能超过) 的最接近的值</span></span><br><span class="line">        <span class="comment">// initialize 全部初始化成 0</span></span><br><span class="line">        <span class="comment">// calculate</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">t</span> <span class="operator">=</span> target; t &gt;= <span class="number">0</span>; t --) &#123;</span><br><span class="line">                dp[t] = Math.max(</span><br><span class="line">                    dp[t], </span><br><span class="line">                    (t - nums[i] &lt; <span class="number">0</span>) ? <span class="number">0</span> : dp[t - nums[i]] + nums[i]</span><br><span class="line">                );</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/* 可替换</span></span><br><span class="line"><span class="comment">        for (int num : nums) &#123;</span></span><br><span class="line"><span class="comment">            for (int t = target; t &gt;= 0; t--) &#123;</span></span><br><span class="line"><span class="comment">                dp[t] = Math.max(</span></span><br><span class="line"><span class="comment">                	dp[t], </span></span><br><span class="line"><span class="comment">                	(t - num &lt; 0) ? 0 : dp[t - num] + num</span></span><br><span class="line"><span class="comment">                );</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        <span class="keyword">return</span> dp[target];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Var-2-How-Many-Ways"><a href="#Var-2-How-Many-Ways" class="headerlink" title="Var 2: How Many Ways"></a>Var 2: How Many Ways</h2><blockquote>
<p><strong>找和等于某个值有多少种方法</strong></p>
<p>给一个非负数组 nums 和一个 target, 寻找从 nums 中选取一些数, 使其和等于 target 一共有多少种方法</p>
</blockquote>
<p><strong>二维 dp</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">howManyWays</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> nums.length;</span><br><span class="line">        <span class="type">int</span>[][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[n][target + <span class="number">1</span>];</span><br><span class="line">        <span class="comment">// dp[i][t]: 从 nums[0..=i] 中选择, 其和 **等于** t 的方法数</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// initialize</span></span><br><span class="line">        <span class="keyword">if</span> (target - nums[<span class="number">0</span>] &gt;= <span class="number">0</span>) dp[<span class="number">0</span>][nums[<span class="number">0</span>]] = <span class="number">1</span>;  <span class="comment">// 对于只考虑第 0 个数, 只有当 t == nums[0] 时, 才有唯一的方法 (只选取 nums[0])</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">cnt0</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span> ; i &lt; n ; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] == <span class="number">0</span>) cnt0++;</span><br><span class="line">            dp[i][<span class="number">0</span>] = (<span class="type">int</span>) Math.pow(<span class="number">2</span>, cnt0);</span><br><span class="line">        &#125;  <span class="comment">// 如果 t = 0, 那么只有备选元素是 0 才可行, nums[i] == 0, 选与不选产生了 2 种情况</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// calculate</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n ; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">t</span> <span class="operator">=</span> <span class="number">1</span>; t &lt;= target; t ++) &#123;</span><br><span class="line">                dp[i][t] = (t - nums[i] &lt; <span class="number">0</span>) ? dp[i - <span class="number">1</span>][t] : dp[i - <span class="number">1</span>][t] + dp[i - <span class="number">1</span>][t - nums[i]];</span><br><span class="line">                <span class="comment">/**</span></span><br><span class="line"><span class="comment">                 * 如果 nums[i] 过大 (&gt; t), 那么 不能选择 nums[i], dp[i][t] = dp[i - 1][t]</span></span><br><span class="line"><span class="comment">                 * 如果 nums[i] 不是很大, 那么</span></span><br><span class="line"><span class="comment">                 * dp[i][t] = dp[i - 1][t]  // 不选取 nums[i] 时的方法数</span></span><br><span class="line"><span class="comment">                 *          + dp[i - 1][t - nums[i]]  // 选取 nums[i] 时的方法数</span></span><br><span class="line"><span class="comment">                 */</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[n - <span class="number">1</span>][target];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>一维 dp</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">howManyWays</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[target + <span class="number">1</span>];</span><br><span class="line">        <span class="comment">// dp[t]: 可选所有 nums, 其和 == t 的方法数</span></span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : nums) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">t</span> <span class="operator">=</span> target; t &gt;= <span class="number">0</span>; t --) &#123;</span><br><span class="line">                dp[t] += (t - num &lt; <span class="number">0</span>) ? <span class="number">0</span> : dp[t - num];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[target];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="Var-3-2D-Knapsack"><a href="#Var-3-2D-Knapsack" class="headerlink" title="Var 3: 2D Knapsack"></a>Var 3: 2D Knapsack</h2><blockquote>
<p>同样是 n 种物品, 对应 value 数组, 但物品的约束有两个, (例如 重量 空间)</p>
<p>有 cost0 数组, 上限是 C0 (capacity0)</p>
<p>有 cost1 数组, 上限是 C1 (capacity1)</p>
</blockquote>
<p><strong>三维 dp</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">solve01Knapsack2D</span><span class="params">(<span class="type">int</span>[] value, <span class="type">int</span>[] cost0, <span class="type">int</span>[] cost1, <span class="type">int</span> cap0, <span class="type">int</span> cap1)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> value.length;</span><br><span class="line">        <span class="type">int</span>[][][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[n][cap0 + <span class="number">1</span>][cap1 + <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">        <span class="comment">// init i-axis</span></span><br><span class="line">        <span class="comment">// for (int i = 0; i &lt; n; i ++) dp[i][0][0] = 0;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// init 初始化 c0 - c1 平面</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">c0</span> <span class="operator">=</span> <span class="number">0</span>; c0 &lt;= cap0; c0++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">c1</span> <span class="operator">=</span> <span class="number">0</span>; c1 &lt;= cap1; c1++) &#123;</span><br><span class="line">                dp[<span class="number">0</span>][c0][c1] = (c0 - cost0[<span class="number">0</span>] &lt; <span class="number">0</span> || c1 - cost1[<span class="number">0</span>] &lt; <span class="number">0</span>) ? <span class="number">0</span> : value[<span class="number">0</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// calculate</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n; i ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">c0</span> <span class="operator">=</span> <span class="number">0</span>; c0 &lt;= cap0; c0 ++) &#123;  <span class="comment">// 注意 二维背包要从 0 开始</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">c1</span> <span class="operator">=</span> <span class="number">0</span>; c1 &lt;= cap1; c1 ++) &#123;  <span class="comment">// 注意 二维背包要从 0 开始</span></span><br><span class="line">                    dp[i][c0][c1] = Math.max(</span><br><span class="line">                        dp[i - <span class="number">1</span>][c0][c1],  <span class="comment">// 不放 stuff i</span></span><br><span class="line">                        (c0 - cost0[i] &lt; <span class="number">0</span> || c1 - cost1[i] &lt; <span class="number">0</span>) ? <span class="number">0</span>  <span class="comment">// 放 stuff i</span></span><br><span class="line">                        : dp[i - <span class="number">1</span>][c0 - cost0[i]][c1 - cost1[i]] + value[i]</span><br><span class="line">                    );</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[n - <span class="number">1</span>][cap0][cap1];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>c0, c1 从 0 开始的原因: 这里对于 init i 的操作是将(i, 0, 0) i &#x3D; 0, …, total - 1 一整条线初始化成 0, 而不是 i - c0 和 i - c1 两个平面</li>
<li>本题的初始化是 <code>平面 c0 - c1</code> + <code>线段 i-axis</code></li>
</ul>
<p><strong>二维 dp (滚动二维数组)</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">solve01Knapsack2D</span><span class="params">(<span class="type">int</span>[] value, <span class="type">int</span>[] cost0, <span class="type">int</span>[] cost1, <span class="type">int</span> cap0, <span class="type">int</span> cap1)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> value.length;</span><br><span class="line">        <span class="type">int</span>[][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[cap0 + <span class="number">1</span>][cap1 + <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">        <span class="comment">// init 全部初始化为 0</span></span><br><span class="line">        <span class="comment">// calculate</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">c0</span> <span class="operator">=</span> cap0; c0 &gt;= <span class="number">0</span>; c0 --) &#123;  <span class="comment">// 倒序</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">c1</span> <span class="operator">=</span> cap1; c1 &gt;= <span class="number">0</span>; c1 --) &#123;  <span class="comment">// 倒序</span></span><br><span class="line">                    dp[c0][c1] = Math.max(</span><br><span class="line">                        dp[c0][c1],</span><br><span class="line">                        (c0 - cost0[i] &lt; <span class="number">0</span> || c1 - cost1[i] &lt; <span class="number">0</span>) ? <span class="number">0</span> </span><br><span class="line">                        : dp[c0 - cost0[i]][c1 - cost1[i]] + value[i]</span><br><span class="line">                    );</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[cap0][cap1];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>0-1 背包滚动数组问题, 遵循 <strong>先 c 后 i, i 的遍历要在最外层</strong></li>
</ul>
<h1 id="Complete-Knapsack"><a href="#Complete-Knapsack" class="headerlink" title="Complete Knapsack"></a>Complete Knapsack</h1><h2 id="Origin-1"><a href="#Origin-1" class="headerlink" title="Origin"></a>Origin</h2><blockquote>
<p>给出 n 种选择, 每种选择有对应的 cost 和 value, 在总 cost 不超过 capacity 时, 最大化 value 的总和</p>
<p>每种选择的次数不限</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">solveCompleteKnapsack</span><span class="params">(<span class="type">int</span>[] value, <span class="type">int</span>[] cost, <span class="type">int</span> cap)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> value.length;</span><br><span class="line">        <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[cap + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> cost[i]; c &lt;= cap; c ++) &#123;</span><br><span class="line">                dp[c] = Math.max(</span><br><span class="line">                    dp[c],  <span class="comment">// 不放 i</span></span><br><span class="line">                    dp[c - cost[i]] + value[i]  <span class="comment">// 放 i</span></span><br><span class="line">                );</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[cap];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>相当于在 0-1 背包问题的滚动数组版本中, 正序遍历 cost</p>
</li>
<li><p>在这种写法中, 两个 for 可以交换顺序: 因为每一个选择 (i) 允许重复使用, 而要求得的结果是最大 value, 不受物品添加顺序的影响</p>
</li>
</ul>
<h2 id="Var-1-Closest-Sum-1"><a href="#Var-1-Closest-Sum-1" class="headerlink" title="Var 1: Closest Sum"></a>Var 1: Closest Sum</h2><blockquote>
<p><strong>找最接近某个值的组合</strong></p>
<p>给出一个非负数组 nums 和目标值 target, 找出 nums 中, 和最接近target的值</p>
<p>相当于原型中 cost[i] &#x3D;&#x3D; value[i]</p>
<p>每个 nums[i] 可以用无数次</p>
</blockquote>
<p>参考滚动数组实现的 <strong>0-1Knapsack Var 1</strong>, 换成正序遍历 t</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">closestSum</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[target + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">t</span> <span class="operator">=</span> nums[i]; t &lt;= target; t++) &#123;</span><br><span class="line">                dp[t] = Math.max(dp[t], dp[t - nums[i]] + nums[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        for (int num : nums) &#123;</span></span><br><span class="line"><span class="comment">            for (int t = num; t &lt;= target; t++) &#123;</span></span><br><span class="line"><span class="comment">                dp[t] = Math.max(dp[t], dp[t - num] + num);</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        <span class="keyword">return</span> dp[target];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>两个 for 可以交换顺序</li>
</ul>
<h2 id="Var-2-How-Many-Ways-1"><a href="#Var-2-How-Many-Ways-1" class="headerlink" title="Var 2: How Many Ways"></a>Var 2: How Many Ways</h2><h3 id="2-1-找和等于某个值有多少种方法-不考虑顺序"><a href="#2-1-找和等于某个值有多少种方法-不考虑顺序" class="headerlink" title="2-1 找和等于某个值有多少种方法 (不考虑顺序)"></a>2-1 找和等于某个值有多少种方法 (不考虑顺序)</h3><blockquote>
<p>给一个非负数组 nums 和一个 target, 寻找从 nums 中选取一些数, 使其和等于 target 一共有多少种方法</p>
<p>这里的 nums 是不重复的数组, 里面的值可以多次使用</p>
<p>例如: target &#x3D; 5, nums &#x3D; [1, 2, 5]</p>
<p>5 &#x3D; 1+1+1+1+1</p>
<p>5 &#x3D; 2+1+1+1</p>
<p>5 &#x3D; 2+2+1</p>
<p>5 &#x3D; 5</p>
<p>共 4 种</p>
</blockquote>
<p>参考滚动数组实现的 <strong>0-1Knapsack Var 2</strong>, 换成正序遍历 t</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">howManyWays</span><span class="params">(<span class="type">int</span> target, <span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[target + <span class="number">1</span>];  <span class="comment">// 总和等于 t 的方法数量</span></span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">t</span> <span class="operator">=</span> <span class="number">0</span>; t &lt;= target; t ++) &#123;</span><br><span class="line">                dp[t] += (t - nums[i] &lt; <span class="number">0</span>) ? <span class="number">0</span> : dp[t - nums[i]];</span><br><span class="line">                <span class="comment">// dp[t] = dp[t] /*不放i*/ + (t - nums[i] &lt; 0) ? 0 : dp[t - nums[i]] /*放i*/;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">		<span class="comment">/*</span></span><br><span class="line"><span class="comment">        for (int num : nums) &#123;</span></span><br><span class="line"><span class="comment">            for (int t = 0; t &lt;= target; t++) &#123;</span></span><br><span class="line"><span class="comment">                dp[t] += (t - num &lt; 0) ? 0 : dp[t - num];</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        <span class="keyword">return</span> dp[target];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>for 必须 t 在内 i 在外 (先 t 后 i)</strong>, 因为外层按顺序遍历 nums 确保了顺序, nums[i] <strong>不会重复添加</strong> (组合问题)</li>
</ul>
<h3 id="2-1-找和等于某个值有多少种方法-考虑顺序"><a href="#2-1-找和等于某个值有多少种方法-考虑顺序" class="headerlink" title="2-1 找和等于某个值有多少种方法 (考虑顺序)"></a>2-1 找和等于某个值有多少种方法 (考虑顺序)</h3><blockquote>
<p>给一个非负数组 nums 和一个 target, 寻找从 nums 中选取一些数, 使其和等于 target 一共有多少种方法</p>
<p>这里的 nums 是不重复的数组, 里面的值可以多次使用</p>
<p>例如: target &#x3D; 5, nums &#x3D; [1, 2, 5]</p>
<p>[1,1,1,1,1]</p>
<p>[1,1,1,2]</p>
<p>[1,1,2,1]</p>
<p>[1,2,1,1]</p>
<p>[1,2,2]</p>
<p>[2,1,1,1]</p>
<p>[2,1,2]</p>
<p>[2,2,1]</p>
<p>[5]</p>
<p>共 9 种</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">howManyWays</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[target + <span class="number">1</span>];  <span class="comment">// 总和等于 t 的方法数量</span></span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">t</span> <span class="operator">=</span> <span class="number">0</span>; t &lt;= target; t ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i ++) &#123;</span><br><span class="line">                dp[t] += (t - nums[i] &lt; <span class="number">0</span>) ? <span class="number">0</span> : dp[t - nums[i]];</span><br><span class="line">                <span class="comment">// dp[t] = dp[t] /*不放i*/ + (t - nums[i] &lt; 0) ? 0 : dp[t - nums[i]] /*放i*/;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        for (int t = 0; t &lt;= target; t ++) &#123;</span></span><br><span class="line"><span class="comment">            for (int num : nums) &#123;</span></span><br><span class="line"><span class="comment">                dp[t] += (t - num &lt; 0) ? 0 : dp[t - num];</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        <span class="keyword">return</span> dp[target];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>for 必须 i 在内 t 在外 (先 i 后 t)</strong>, 因为外层按顺序遍历 target 确保了 nums[i] <strong>会重复添加, 产生不同顺序</strong>, 符合题目的要求 (排列问题)</li>
</ul>
<h1 id="Dual-Knapsack"><a href="#Dual-Knapsack" class="headerlink" title="Dual Knapsack"></a>Dual Knapsack</h1><p>二者都是求 “在总价值达到 target 时, 需要的最少 cost”</p>
<p>使用滚动数组, 不同滚动方向对应不同的对偶背包问题</p>
<p>注意, 对偶问题不能理解成 <strong>Var 1: Closest Sum</strong> 因为:</p>
<ul>
<li>对偶问题要求最小 cost (value 之和要超过 tar)</li>
<li>而 <strong>Var 1</strong> 求最接近的 value (cost 之和不可超过 cap)</li>
</ul>
<h2 id="Dual-0-1-Knapsack"><a href="#Dual-0-1-Knapsack" class="headerlink" title="Dual 0-1 Knapsack"></a>Dual 0-1 Knapsack</h2><blockquote>
<p>给出 total 种选择, 每种选择有对应的 cost 和 value, 在总价值达到 target 时, 需要的最少 cost</p>
<p>每种选择只能选择一次</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Solution</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Solution</span>();</span><br><span class="line">        <span class="type">int</span>[] cost = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;;</span><br><span class="line">        <span class="type">int</span>[] value = &#123;<span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>&#125;;</span><br><span class="line">        <span class="type">int</span> <span class="variable">target</span> <span class="operator">=</span> <span class="number">5</span>;</span><br><span class="line">        System.out.println(s.solveDual01Knapsack(cost, value, target));  <span class="comment">// 选 0, 2; cost = 4, value = 5</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">solveDual01Knapsack</span><span class="params">(<span class="type">int</span>[] cost, <span class="type">int</span>[] value, <span class="type">int</span> tar)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> cost.length;</span><br><span class="line">        <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[tar + <span class="number">1</span>];  <span class="comment">// 达到 tar 需要的最小 cost</span></span><br><span class="line">        Arrays.fill(dp, Integer.MAX_VALUE);</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">v</span> <span class="operator">=</span> tar; v &gt;= value[i]; v--) &#123;  <span class="comment">// 逆序</span></span><br><span class="line">                <span class="keyword">if</span> (dp[v - value[i]] != Integer.MAX_VALUE) &#123;</span><br><span class="line">                    dp[v] = Math.min(dp[v], dp[v - value[i]] + cost[i]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[tar] == Integer.MAX_VALUE ? -<span class="number">1</span> : dp[tar];  <span class="comment">// 如果没有方案，返回 -1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>for 必须先 v 后 i</strong>, 不然会有重复选择, 不符合 0-1 背包的要求</li>
</ul>
<h2 id="Dual-Complete-Knapsack"><a href="#Dual-Complete-Knapsack" class="headerlink" title="Dual Complete Knapsack"></a>Dual Complete Knapsack</h2><blockquote>
<p>给出 total 种选择, 每种选择有对应的 cost 和 value, 在总价值达到 target 时, 需要的最少 cost</p>
<p>每种选择可以多次</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Solution</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Solution</span>();</span><br><span class="line">        <span class="type">int</span>[] cost = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;;</span><br><span class="line">        <span class="type">int</span>[] value = &#123;<span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>&#125;;</span><br><span class="line">        <span class="type">int</span> <span class="variable">target</span> <span class="operator">=</span> <span class="number">5</span>;</span><br><span class="line">        System.out.println(s.solveDualCompleteKnapsack(cost, value, target));  <span class="comment">// 选 0*3; cost = 3, value = 6</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">solveDualCompleteKnapsack</span><span class="params">(<span class="type">int</span>[] cost, <span class="type">int</span>[] value, <span class="type">int</span> tar)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> cost.length;</span><br><span class="line">        <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[tar + <span class="number">1</span>];  <span class="comment">// 达到 tar 需要的最小 cost</span></span><br><span class="line">        Arrays.fill(dp, Integer.MAX_VALUE);</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">v</span> <span class="operator">=</span> value[i]; v &lt;= tar; v++) &#123;  <span class="comment">// 顺序</span></span><br><span class="line">                <span class="keyword">if</span> (dp[v - value[i]] != Integer.MAX_VALUE) &#123;</span><br><span class="line">                    dp[v] = Math.min(dp[v], dp[v - value[i]] + cost[i]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[tar] == Integer.MAX_VALUE ? -<span class="number">1</span> : dp[tar];  <span class="comment">// 如果没有方案，返回 -1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>for 的顺序无要求</strong></li>
</ul>
<h1 id="Multi-Knapsack"><a href="#Multi-Knapsack" class="headerlink" title="Multi Knapsack"></a>Multi Knapsack</h1><p><a target="_blank" rel="noopener" href="https://kamacoder.com/problempage.php?pid=1066">56. 携带矿石资源</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Solution</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Solution</span>();</span><br><span class="line">        <span class="type">int</span>[] cost = &#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">4</span>&#125;;</span><br><span class="line">        <span class="type">int</span>[] value = &#123;<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">4</span>&#125;;</span><br><span class="line">        <span class="type">int</span> <span class="variable">cap</span> <span class="operator">=</span> <span class="number">8</span>;</span><br><span class="line">        System.out.println(s.solveMultiKnapsack(value, cost, cap));</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">solveMultiKnapsack</span><span class="params">(<span class="type">int</span>[] value, <span class="type">int</span>[] cost, <span class="type">int</span> cap)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> value.length;</span><br><span class="line">        <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[cap + <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">        <span class="comment">//先遍历物品再遍历背包，作为01背包处理</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> cap; c &gt;= cost[i]; c--) &#123;</span><br><span class="line">                <span class="comment">//遍历每种物品的个数</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">1</span>; k &lt;= value[i] &amp;&amp; (c - k * cost[i]) &gt;= <span class="number">0</span>; k++) &#123;</span><br><span class="line">                    dp[c] = Math.max(dp[c], dp[c - k * cost[i]] + k * value[i]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[cap];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="例题"><a href="#例题" class="headerlink" title="例题"></a>例题</h1><h2 id="KamaCoder-46-携带研究材料"><a href="#KamaCoder-46-携带研究材料" class="headerlink" title="KamaCoder 46. 携带研究材料"></a><a target="_blank" rel="noopener" href="https://kamacoder.com/problempage.php?pid=1046">KamaCoder 46. 携带研究材料</a></h2><blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">int[] weight = &#123;2, 2, 3, 1, 5, 2&#125;;  // 每个物品的重量</span><br><span class="line">int[] value = &#123;2, 3, 1, 5, 4, 3&#125;;  // 每个物品的价值</span><br><span class="line">int capacity = 4;  // 最大重量限制</span><br></pre></td></tr></table></figure>
</blockquote>
<p><strong>暴力解法 (回溯)</strong></p>
<p>相当于枚举每种物品 在与不在 的状态, 时间复杂度 $O(2^n)$</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> Integer.MIN_VALUE;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span>[] path;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">backtrack</span><span class="params">(<span class="type">int</span> capacity, <span class="type">int</span>[] weight, <span class="type">int</span>[] value, <span class="type">int</span> curW, <span class="type">int</span> curV)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (curW &gt; capacity) <span class="keyword">return</span>;</span><br><span class="line">        res = Math.max(res, curV);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; path.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (path[i]) <span class="keyword">continue</span>;</span><br><span class="line">            path[i] = <span class="literal">true</span>;</span><br><span class="line">            backtrack(capacity, weight, value, curW + weight[i], curV + value[i]);</span><br><span class="line">            path[i] = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">solveKnapsack</span><span class="params">(<span class="type">int</span>[] weight, <span class="type">int</span>[] value, <span class="type">int</span> capacity)</span> &#123;</span><br><span class="line">        path = <span class="keyword">new</span> <span class="title class_">boolean</span>[weight.length];</span><br><span class="line">        Arrays.fill(path, <span class="literal">false</span>);</span><br><span class="line">        backtrack(capacity, weight, value, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>动态规划 (二维数组)</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">solveKnapsack</span><span class="params">(<span class="type">int</span>[] weight, <span class="type">int</span>[] value, <span class="type">int</span> capacity)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">stuffTotal</span> <span class="operator">=</span> weight.length;</span><br><span class="line">        <span class="type">int</span>[][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[stuffTotal][capacity + <span class="number">1</span>];</span><br><span class="line">        <span class="comment">// initialize</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; stuffTotal; i++) dp[i][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> <span class="number">1</span>; c &lt;= capacity; c++) dp[<span class="number">0</span>][c] = (c &lt; weight[<span class="number">0</span>]) ? <span class="number">0</span> : value[<span class="number">0</span>];</span><br><span class="line">		</span><br><span class="line">        <span class="comment">// calculate        </span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; stuffTotal; i ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> <span class="number">0</span>; c &lt;= capacity; c++) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">withoutStuffI</span> <span class="operator">=</span> dp[i - <span class="number">1</span>][c];</span><br><span class="line">                <span class="type">int</span> <span class="variable">withStuffI</span> <span class="operator">=</span> (c - weight[i] &lt; <span class="number">0</span> ) ? <span class="number">0</span> : dp[i - <span class="number">1</span>][c - weight[i]] + value[i];</span><br><span class="line">                dp[i][c] = Math.max(withStuffI, withoutStuffI);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[value.length - <span class="number">1</span>][capacity];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[[0, 0, 2, 2, 2], </span><br><span class="line"> [0, 0, 3, 3, 5], </span><br><span class="line"> [0, 0, 3, 3, 5], </span><br><span class="line"> [0, 5, 5, 8, 8], </span><br><span class="line"> [0, 5, 5, 8, 8], </span><br><span class="line"> [0, 5, 5, 8, 8]]</span><br></pre></td></tr></table></figure>

<p><strong>动态规划 (一维滚动数组)</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">solveKnapsack</span><span class="params">(<span class="type">int</span>[] weight, <span class="type">int</span>[] value, <span class="type">int</span> capacity)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">stuffTotal</span> <span class="operator">=</span> weight.length;</span><br><span class="line">        <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[capacity + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; stuffTotal; i ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> capacity; c - weight[i] &gt;= <span class="number">0</span>; c --) &#123;</span><br><span class="line">                dp[c] = Math.max(dp[c], dp[c - weight[i]] + value[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[capacity];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="416-Partition-Equal-Subset-Sum"><a href="#416-Partition-Equal-Subset-Sum" class="headerlink" title="416. Partition Equal Subset Sum"></a><a target="_blank" rel="noopener" href="https://leetcode.com/problems/partition-equal-subset-sum/">416. Partition Equal Subset Sum</a></h2><p><strong>0-1 Knapsack Var 1</strong></p>
<ul>
<li>背包的体积为sum &#x2F; 2</li>
<li>背包要放入的商品（集合里的元素）重量为元素的数值，价值也为元素的数值</li>
<li>背包如果正好装满，说明找到了总和为 sum &#x2F; 2 的子集。</li>
<li>背包中每一个元素是不可重复放入。</li>
</ul>
<p><strong>二维 dp</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">canPartition</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> Arrays.stream(nums).sum();</span><br><span class="line">        <span class="keyword">if</span> ((sum &amp; <span class="number">1</span>) == <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">cap</span> <span class="operator">=</span> sum / <span class="number">2</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> nums.length;</span><br><span class="line">        <span class="type">int</span>[][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[n][cap + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> nums[<span class="number">0</span>]; c &lt;= cap; c ++) dp[<span class="number">0</span>][c] = nums[<span class="number">0</span>];</span><br><span class="line">		</span><br><span class="line">        <span class="comment">// 范围不能与 initilize 时重合</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n; i ++ ) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> <span class="number">1</span>; c &lt;= cap; c ++) &#123;</span><br><span class="line">                dp[i][c] = Math.max( dp[i-<span class="number">1</span>][c] , (c - nums[i] &lt; <span class="number">0</span>) ? <span class="number">0</span> : dp[i-<span class="number">1</span>][c - nums[i]] + nums[i] );</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[n - <span class="number">1</span>][cap] == cap;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>一维 dp</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">canPartition</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> Arrays.stream(nums).sum();</span><br><span class="line">        <span class="keyword">if</span> ((sum &amp; <span class="number">1</span>) == <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">cap</span> <span class="operator">=</span> sum / <span class="number">2</span>;</span><br><span class="line">        <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[cap + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : nums) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> cap; c &gt;= num; c--) &#123;</span><br><span class="line">                dp[c] = Math.max(dp[c], dp[c - num] + num);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[cap] == cap;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="1049-Last-Stone-Weight-II"><a href="#1049-Last-Stone-Weight-II" class="headerlink" title="1049. Last Stone Weight II"></a><a target="_blank" rel="noopener" href="https://leetcode.com/problems/last-stone-weight-ii/">1049. Last Stone Weight II</a></h2><p><strong>0-1 Knapsack Var 1</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">lastStoneWeightII</span><span class="params">(<span class="type">int</span>[] stones)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> Arrays.stream(stones).sum();</span><br><span class="line">        <span class="type">int</span> <span class="variable">cap</span> <span class="operator">=</span> sum / <span class="number">2</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> stones.length;</span><br><span class="line">        <span class="type">int</span>[][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[n][cap + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> stones[<span class="number">0</span>]; c &lt;= cap; c ++) dp[<span class="number">0</span>][c] = stones[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n; i ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> <span class="number">1</span>; c &lt;= cap; c ++) &#123;</span><br><span class="line">                dp[i][c] = dp[i-<span class="number">1</span>][c];</span><br><span class="line">                <span class="keyword">if</span> (c &gt;= stones[i]) dp[i][c] = Math.max(dp[i-<span class="number">1</span>][c], dp[i-<span class="number">1</span>][c - stones[i]] + stones[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Math.abs(dp[n-<span class="number">1</span>][cap] * <span class="number">2</span> - sum);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>与上一题类似, 都是利用动态规划, 取 <code>value[i] = weight[i]</code>, 探索最接近 target (capacity) 的情况</p>
<h2 id="494-Target-Sum"><a href="#494-Target-Sum" class="headerlink" title="494. Target Sum"></a><a target="_blank" rel="noopener" href="https://leetcode.com/problems/target-sum/">494. Target Sum</a></h2><p><strong>0-1 Knapsack Var 2</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findTargetSumWays</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> Arrays.stream(nums).sum();</span><br><span class="line">        <span class="type">int</span> <span class="variable">tar</span> <span class="operator">=</span> (target + sum) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (sum &lt; Math.abs(target)) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (tar * <span class="number">2</span> != target + sum) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> nums.length;</span><br><span class="line">        <span class="type">int</span>[][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[n][tar + <span class="number">1</span>]; <span class="comment">//使用[0..=i]中的物品填满容量 c (重量之和 == c) 的所有方法数量</span></span><br><span class="line">        <span class="keyword">if</span> (nums[<span class="number">0</span>] &lt;= tar) dp[<span class="number">0</span>][nums[<span class="number">0</span>]] = <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">cnt0</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] == <span class="number">0</span>) cnt0 ++;</span><br><span class="line">            dp[i][<span class="number">0</span>] = (<span class="type">int</span>) Math.pow(<span class="number">2</span>, cnt0);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n; i ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">t</span> <span class="operator">=</span> <span class="number">1</span>; t &lt;= tar; t ++) &#123;</span><br><span class="line">                dp[i][t] = dp[i - <span class="number">1</span>][t];</span><br><span class="line">                <span class="keyword">if</span> (t &gt;= nums[i]) dp[i][t] += dp[i - <span class="number">1</span>][t - nums[i]];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[n - <span class="number">1</span>][tar];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findTargetSumWays</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> Arrays.stream(nums).sum();</span><br><span class="line">        <span class="type">int</span> <span class="variable">tar</span> <span class="operator">=</span> (target + sum) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (sum &lt; Math.abs(target)) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (tar * <span class="number">2</span> != target + sum) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[tar + <span class="number">1</span>];</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : nums) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">t</span> <span class="operator">=</span> tar; t &gt;= num; t --) &#123;</span><br><span class="line">                dp[t] += dp[t - num];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[tar];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="474-Ones-and-Zeroes"><a href="#474-Ones-and-Zeroes" class="headerlink" title="474. Ones and Zeroes"></a><a target="_blank" rel="noopener" href="https://leetcode.com/problems/ones-and-zeroes/">474. Ones and Zeroes</a></h2><p><strong>0-1 Knapsack Var 3</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findMaxForm</span><span class="params">(String[] strs, <span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[][] ret = foo(strs);</span><br><span class="line">        <span class="type">int</span>[] cost0 = ret[<span class="number">0</span>];</span><br><span class="line">        <span class="type">int</span>[] cost1 = ret[<span class="number">1</span>];</span><br><span class="line">        <span class="type">int</span>[][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[m + <span class="number">1</span>][n + <span class="number">1</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">total</span> <span class="operator">=</span> strs.length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; total; i ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">c0</span> <span class="operator">=</span> m; c0 &gt;= <span class="number">0</span>; c0 --) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">c1</span> <span class="operator">=</span> n; c1 &gt;= <span class="number">0</span>; c1 --) &#123;</span><br><span class="line">                    dp[c0][c1] = Math.max(</span><br><span class="line">                        dp[c0][c1],</span><br><span class="line">                        c0 - cost0[i] &lt; <span class="number">0</span> || c1 - cost1[i] &lt; <span class="number">0</span> ? <span class="number">0</span></span><br><span class="line">                        : dp[c0 - cost0[i]][c1 - cost1[i]] + <span class="number">1</span></span><br><span class="line">                    );</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[m][n];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[][] foo(String[] strs) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">l</span> <span class="operator">=</span> strs.length;</span><br><span class="line">        <span class="type">int</span>[] cost0 = <span class="keyword">new</span> <span class="title class_">int</span>[l];</span><br><span class="line">        <span class="type">int</span>[] cost1 = <span class="keyword">new</span> <span class="title class_">int</span>[l];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; l; i ++) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> strs[i];</span><br><span class="line">            <span class="type">int</span> <span class="variable">cnt0</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">char</span> c : str.toCharArray()) <span class="keyword">if</span> (c == <span class="string">&#x27;0&#x27;</span>) cnt0 ++;</span><br><span class="line">            cost0[i] = cnt0;</span><br><span class="line">            cost1[i] = str.length() - cnt0;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span>[][] ret = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">2</span>][l];</span><br><span class="line">        ret[<span class="number">0</span>] = cost0;</span><br><span class="line">        ret[<span class="number">1</span>] = cost1;</span><br><span class="line">        <span class="keyword">return</span>  ret;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findMaxForm</span><span class="params">(String[] strs, <span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[][] ret = foo(strs);</span><br><span class="line">        <span class="type">int</span>[] cost0 = ret[<span class="number">0</span>];</span><br><span class="line">        <span class="type">int</span>[] cost1 = ret[<span class="number">1</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">total</span> <span class="operator">=</span> strs.length;</span><br><span class="line">        <span class="type">int</span>[][][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[total][m + <span class="number">1</span>][n + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">c0</span> <span class="operator">=</span> cost0[<span class="number">0</span>]; c0 &lt;= m; c0 ++) &#123; <span class="comment">// 初始化 c0 - c1 平面</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">c1</span> <span class="operator">=</span> cost1[<span class="number">0</span>]; c1 &lt;= n; c1 ++) &#123;</span><br><span class="line">                dp[<span class="number">0</span>][c0][c1] = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; total; i ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">c0</span> <span class="operator">=</span> <span class="number">0</span>; c0 &lt;= m; c0 ++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">c1</span> <span class="operator">=</span> <span class="number">0</span>; c1 &lt;= n; c1 ++) &#123;</span><br><span class="line">                    dp[i][c0][c1] = Math.max(</span><br><span class="line">                        dp[i - <span class="number">1</span>][c0][c1], </span><br><span class="line">                        (c0 - cost0[i] &lt; <span class="number">0</span> || c1 - cost1[i] &lt; <span class="number">0</span>) ? <span class="number">0</span> </span><br><span class="line">                        : dp[i - <span class="number">1</span>][c0 - cost0[i]][c1 - cost1[i]] + <span class="number">1</span> <span class="comment">/* value[i] === 1 */</span></span><br><span class="line">                    );</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[total - <span class="number">1</span>][m][n];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[][] foo(String[] strs) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">l</span> <span class="operator">=</span> strs.length;</span><br><span class="line">        <span class="type">int</span>[] cost0 = <span class="keyword">new</span> <span class="title class_">int</span>[l];</span><br><span class="line">        <span class="type">int</span>[] cost1 = <span class="keyword">new</span> <span class="title class_">int</span>[l];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; l; i ++) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> strs[i];</span><br><span class="line">            <span class="type">int</span> <span class="variable">cnt0</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">char</span> c : str.toCharArray()) <span class="keyword">if</span> (c == <span class="string">&#x27;0&#x27;</span>) cnt0 ++;</span><br><span class="line">            cost0[i] = cnt0;</span><br><span class="line">            cost1[i] = str.length() - cnt0;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span>[][] ret = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">2</span>][l];</span><br><span class="line">        ret[<span class="number">0</span>] = cost0;</span><br><span class="line">        ret[<span class="number">1</span>] = cost1;</span><br><span class="line">        <span class="keyword">return</span>  ret;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="KamaCoder-52-携带研究材料"><a href="#KamaCoder-52-携带研究材料" class="headerlink" title="KamaCoder 52. 携带研究材料"></a><a target="_blank" rel="noopener" href="https://kamacoder.com/problempage.php?pid=1052">KamaCoder 52. 携带研究材料</a></h2><p><strong>Complete Knapsack</strong></p>
<h2 id="518-Coin-Change-II"><a href="#518-Coin-Change-II" class="headerlink" title="518. Coin Change II"></a><a target="_blank" rel="noopener" href="https://leetcode.com/problems/coin-change-ii/">518. Coin Change II</a></h2><p><strong>Complete Knapsack Var 2-1</strong> </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">change</span><span class="params">(<span class="type">int</span> amount, <span class="type">int</span>[] coins)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[amount + <span class="number">1</span>];</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> coin : coins) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">0</span>; a &lt;= amount; a ++) &#123;</span><br><span class="line">                dp[a] += (a - coin &lt; <span class="number">0</span>) ? <span class="number">0</span> : dp[a - coin];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[amount];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="377-Combination-Sum-IV"><a href="#377-Combination-Sum-IV" class="headerlink" title="377. Combination Sum IV"></a><a target="_blank" rel="noopener" href="https://leetcode.com/problems/combination-sum-iv/">377. Combination Sum IV</a></h2><p><strong>Complete Knapsack Var 2-2</strong> </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">combinationSum4</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[target + <span class="number">1</span>];</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">t</span> <span class="operator">=</span> <span class="number">0</span>; t &lt;= target; t ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> num : nums) &#123;</span><br><span class="line">                dp[t] += t - num &lt; <span class="number">0</span> ? <span class="number">0</span> : dp[t - num];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[target];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="Rust"><a href="#Rust" class="headerlink" title="Rust"></a>Rust</h6><p><strong>回溯</strong>超时</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">impl</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">pub</span> <span class="keyword">fn</span> <span class="title function_">combination_sum4</span>(nums: <span class="type">Vec</span>&lt;<span class="type">i32</span>&gt;, target: <span class="type">i32</span>) <span class="punctuation">-&gt;</span> <span class="type">i32</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">ans</span> = <span class="number">0</span>;</span><br><span class="line">        Solution::<span class="title function_ invoke__">backtrack</span>(&amp;<span class="keyword">mut</span> <span class="number">0</span>, &amp;<span class="keyword">mut</span> ans, target, &amp;nums);</span><br><span class="line">        ans</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">backtrack</span>(</span><br><span class="line">        <span class="comment">// idx: usize,</span></span><br><span class="line">        sum: &amp;<span class="keyword">mut</span> <span class="type">i32</span>,</span><br><span class="line">        ans: &amp;<span class="keyword">mut</span> <span class="type">i32</span>,</span><br><span class="line">        tar: <span class="type">i32</span>,</span><br><span class="line">        nums: &amp;<span class="type">Vec</span>&lt;<span class="type">i32</span>&gt;,</span><br><span class="line">    ) &#123;</span><br><span class="line">        <span class="keyword">if</span> *sum &gt; tar &#123; <span class="keyword">return</span>; &#125;</span><br><span class="line">        <span class="keyword">if</span> *sum == tar &#123;</span><br><span class="line">            *ans += <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> <span class="variable">num</span> <span class="keyword">in</span> nums.<span class="title function_ invoke__">iter</span>() &#123;</span><br><span class="line">            *sum += *num;</span><br><span class="line">            Solution::<span class="title function_ invoke__">backtrack</span>(sum, ans, tar, nums);</span><br><span class="line">            *sum -= *num;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>DP</strong></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">impl</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">pub</span> <span class="keyword">fn</span> <span class="title function_">combination_sum4</span>(nums: <span class="type">Vec</span>&lt;<span class="type">i32</span>&gt;, target: <span class="type">i32</span>) <span class="punctuation">-&gt;</span> <span class="type">i32</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">dp</span> = <span class="built_in">vec!</span>[<span class="number">0</span>; target <span class="keyword">as</span> <span class="type">usize</span> + <span class="number">1</span>];</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> <span class="variable">t</span> <span class="keyword">in</span> <span class="number">0</span>..=target &#123;</span><br><span class="line">            <span class="keyword">for</span> <span class="variable">i</span> <span class="keyword">in</span> <span class="number">0</span>..nums.<span class="title function_ invoke__">len</span>() &#123;</span><br><span class="line">                dp[t <span class="keyword">as</span> <span class="type">usize</span>] += <span class="keyword">if</span> t - nums[i] &lt; <span class="number">0</span> &#123;</span><br><span class="line">                    <span class="number">0</span></span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    dp[(t - nums[i]) <span class="keyword">as</span> <span class="type">usize</span>]</span><br><span class="line">                &#125;;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        dp[target <span class="keyword">as</span> <span class="type">usize</span>]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="KamaCoder-57-爬楼梯"><a href="#KamaCoder-57-爬楼梯" class="headerlink" title="KamaCoder 57. 爬楼梯"></a><a target="_blank" rel="noopener" href="https://kamacoder.com/problempage.php?pid=1067">KamaCoder 57. 爬楼梯</a></h2><blockquote>
<p>假设你正在爬楼梯。需要 n 阶你才能到达楼顶。 </p>
<p>每次你可以爬至多m (1 &lt;&#x3D; m &lt; n)个台阶。你有多少种不同的方法可以爬到楼顶呢？ </p>
</blockquote>
<p><strong>Complete Knapsack Var 2-2</strong> </p>
<p>target &#x3D; n, nums &#x3D; [1, 2, 3, …, m]</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">climbStairs</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> m)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] nums = <span class="keyword">new</span> <span class="title class_">int</span>[m];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i ++) nums[i] = i + <span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[n + <span class="number">1</span>];</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">_n</span> <span class="operator">=</span> <span class="number">0</span>; _n &lt;= n; _n ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> num : nums) &#123;</span><br><span class="line">                dp[_n] += (_n &lt; num) ? <span class="number">0</span> : dp[_n - num];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[n];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>递归法</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">climbStairs</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> m)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (m == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (n &lt;= <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">methodsCnt</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= m; i ++) &#123;</span><br><span class="line">            methodsCnt += climbStairs(n - i, Math.min(n - i, m));  <span class="comment">// 关键</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> methodsCnt;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">当 m = 2 时, f(n, 2) = f(n - 1, 2) + f(n - 2, 2)</span><br><span class="line">故有递归公式 f(n, m) = f(n - 1, m) + ... + f(n - m, m)</span><br><span class="line">但是, 当 n &lt; m 之后, 第二个参数会退化成 n, 例如 f(2, 3) = f(2, 2)</span><br></pre></td></tr></table></figure>

<p>也可以这样写</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">climbStairs</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> m)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (n &lt; m) m = n;  <span class="comment">// 关键</span></span><br><span class="line">        <span class="keyword">if</span> (m == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (n &lt;= <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">methodsCnt</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= m; i ++) &#123;</span><br><span class="line">            methodsCnt += climbStairs(n - i, m);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> methodsCnt;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="322-Coin-Change"><a href="#322-Coin-Change" class="headerlink" title="322. Coin Change"></a><a target="_blank" rel="noopener" href="https://leetcode.com/problems/coin-change/">322. Coin Change</a></h2><p><strong>Dual Complete Knapsack</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">amount &lt;=&gt; V</span><br><span class="line">coins &lt;=&gt; value</span><br><span class="line">[1, 1, ..., 1] &lt;=&gt; cost</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">coinChange</span><span class="params">(<span class="type">int</span>[] coins, <span class="type">int</span> amount)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> coins.length;</span><br><span class="line">        <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[amount + <span class="number">1</span>];</span><br><span class="line">        Arrays.fill(dp, Integer.MAX_VALUE);</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> coins[i]; a &lt;= amount; a ++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (dp[a - coins[i]] != Integer.MAX_VALUE) &#123;</span><br><span class="line">                    dp[a] = Math.min(</span><br><span class="line">                        dp[a],</span><br><span class="line">                        dp[a - coins[i]] + <span class="number">1</span></span><br><span class="line">                    );</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[amount] == Integer.MAX_VALUE ? -<span class="number">1</span> : dp[amount];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="Rust-1"><a href="#Rust-1" class="headerlink" title="Rust"></a>Rust</h6><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">impl</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">pub</span> <span class="keyword">fn</span> <span class="title function_">coin_change</span>(coins: <span class="type">Vec</span>&lt;<span class="type">i32</span>&gt;, amount: <span class="type">i32</span>) <span class="punctuation">-&gt;</span> <span class="type">i32</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> <span class="variable">total</span>: <span class="type">usize</span> = coins.<span class="title function_ invoke__">len</span>();</span><br><span class="line">        <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">dp</span>: <span class="type">Vec</span>&lt;<span class="type">i32</span>&gt; = <span class="built_in">vec!</span>[<span class="type">i32</span>::MAX; amount <span class="keyword">as</span> <span class="type">usize</span> + <span class="number">1</span>];</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> <span class="variable">i</span> <span class="keyword">in</span> <span class="number">0</span>..total &#123;</span><br><span class="line">            <span class="keyword">for</span> <span class="variable">a</span> <span class="keyword">in</span> coins[i]..=amount &#123;</span><br><span class="line">                <span class="keyword">if</span> dp[(a - coins[i]) <span class="keyword">as</span> <span class="type">usize</span>] != <span class="type">i32</span>::MAX &#123;</span><br><span class="line">                    dp[a <span class="keyword">as</span> <span class="type">usize</span>] = dp[a <span class="keyword">as</span> <span class="type">usize</span>].<span class="title function_ invoke__">min</span>(dp[(a - coins[i]) <span class="keyword">as</span> <span class="type">usize</span>] + <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> dp[amount <span class="keyword">as</span> <span class="type">usize</span>] == <span class="type">i32</span>::MAX &#123; -<span class="number">1</span> &#125; <span class="keyword">else</span> &#123; dp[amount <span class="keyword">as</span> <span class="type">usize</span>] &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="279-Perfect-Squares"><a href="#279-Perfect-Squares" class="headerlink" title="279. Perfect Squares"></a><a target="_blank" rel="noopener" href="https://leetcode.com/problems/perfect-squares/">279. Perfect Squares</a></h2><p><strong>Dual Complete Knapsack</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">n &lt;=&gt; V</span><br><span class="line">nums &lt;=&gt; value</span><br><span class="line">[1, 1, ..., 1] &lt;=&gt; cost</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">numSquares</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] value = getValue(n);</span><br><span class="line">        <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[n + <span class="number">1</span>];</span><br><span class="line">        Arrays.fill(dp, Integer.MAX_VALUE);</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; value.length; i ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">v</span> <span class="operator">=</span> value[i]; v &lt;= n; v ++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (dp[v - value[i]] != Integer.MAX_VALUE) &#123;</span><br><span class="line">                    dp[v] = Math.min(dp[v], dp[v - value[i]] + <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[n];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[] getValue(<span class="type">int</span> n) &#123;</span><br><span class="line">        List&lt;Integer&gt; value = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= n; i ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i * i &gt; n) <span class="keyword">break</span>;</span><br><span class="line">            value.add(i * i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> value.stream().mapToInt(Integer::intValue).toArray();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="139-Word-Break"><a href="#139-Word-Break" class="headerlink" title="139. Word Break"></a><a target="_blank" rel="noopener" href="https://leetcode.com/problems/word-break/">139. Word Break</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">wordBreak</span><span class="params">(String s, List&lt;String&gt; wordDict)</span> &#123;</span><br><span class="line">        <span class="type">boolean</span>[] dp = <span class="keyword">new</span> <span class="title class_">boolean</span>[s.length() + <span class="number">1</span>]; <span class="comment">// dp[l] 表示 s.substring(0, l) (长度为 l 的子串) 是否可由 wordDict 组成; dp[0] 表示空字符串的情况 (true); dp[s.length()] 为结果</span></span><br><span class="line">        dp[<span class="number">0</span>] = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">l</span> <span class="operator">=</span> <span class="number">0</span>; l &lt;= s.length(); l ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (String word : wordDict) &#123;</span><br><span class="line">                <span class="keyword">if</span> (l &lt; word.length()) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="type">String</span> <span class="variable">sub</span> <span class="operator">=</span> s.substring(l - word.length(), l);</span><br><span class="line">                dp[l] = dp[l] || ( dp[l - word.length()] &amp;&amp; sub.equals(word) );</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[s.length()];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>for 必须 先 l 后 word</strong>: 不然的话, 无法确保遍历所有的word查看它们是否有等于sub的 (<strong>需要重复添加</strong> word)</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 另一种思路的背包算法</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">wordBreak</span><span class="params">(String s, List&lt;String&gt; wordDict)</span> &#123;</span><br><span class="line">        <span class="type">boolean</span>[] dp = <span class="keyword">new</span> <span class="title class_">boolean</span>[s.length() + <span class="number">1</span>];</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= s.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (String word : wordDict) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> word.length();</span><br><span class="line">                <span class="keyword">if</span> (i &gt;= len &amp;&amp; dp[i - len] &amp;&amp; word.equals(s.substring(i - len, i))) &#123;</span><br><span class="line">                    dp[i] = <span class="literal">true</span>;</span><br><span class="line">                    <span class="keyword">break</span>;  <span class="comment">// 巧妙, 当匹配到一个 word 后就不用继续匹配了</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[s.length()];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>普通DP</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">wordBreak</span><span class="params">(String s, List&lt;String&gt; wordDict)</span> &#123;</span><br><span class="line">        HashSet&lt;String&gt; set = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;(wordDict);</span><br><span class="line">        <span class="type">boolean</span>[] valid = <span class="keyword">new</span> <span class="title class_">boolean</span>[s.length() + <span class="number">1</span>];</span><br><span class="line">        valid[<span class="number">0</span>] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= s.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; i &amp;&amp; !valid[i]; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (set.contains(s.substring(j, i)) &amp;&amp; valid[j]) &#123;</span><br><span class="line">                    valid[i] = <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> valid[s.length()];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

    </div>

    
    
    

      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/key-algorithm/" rel="tag"><i class="fa fa-tag"></i> key-algorithm</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2024/06/01/algorithm/10-1-dp/" rel="prev" title="Dynamic Programming">
      <i class="fa fa-chevron-left"></i> Dynamic Programming
    </a></div>
      <div class="post-nav-item">
    <a href="/2024/06/17/algorithm/10-3-dp-sub/" rel="next" title="DP - Subarray & Subsequence">
      DP - Subarray & Subsequence <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%BA%A6%E5%AE%9A"><span class="nav-number">1.</span> <span class="nav-text">约定</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#0-1-Knapsack"><span class="nav-number">2.</span> <span class="nav-text">0-1 Knapsack</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Origin"><span class="nav-number">2.1.</span> <span class="nav-text">Origin</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Var-1-Closest-Sum"><span class="nav-number">2.2.</span> <span class="nav-text">Var 1: Closest Sum</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Var-2-How-Many-Ways"><span class="nav-number">2.3.</span> <span class="nav-text">Var 2: How Many Ways</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Var-3-2D-Knapsack"><span class="nav-number">2.4.</span> <span class="nav-text">Var 3: 2D Knapsack</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Complete-Knapsack"><span class="nav-number">3.</span> <span class="nav-text">Complete Knapsack</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Origin-1"><span class="nav-number">3.1.</span> <span class="nav-text">Origin</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Var-1-Closest-Sum-1"><span class="nav-number">3.2.</span> <span class="nav-text">Var 1: Closest Sum</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Var-2-How-Many-Ways-1"><span class="nav-number">3.3.</span> <span class="nav-text">Var 2: How Many Ways</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-%E6%89%BE%E5%92%8C%E7%AD%89%E4%BA%8E%E6%9F%90%E4%B8%AA%E5%80%BC%E6%9C%89%E5%A4%9A%E5%B0%91%E7%A7%8D%E6%96%B9%E6%B3%95-%E4%B8%8D%E8%80%83%E8%99%91%E9%A1%BA%E5%BA%8F"><span class="nav-number">3.3.1.</span> <span class="nav-text">2-1 找和等于某个值有多少种方法 (不考虑顺序)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-%E6%89%BE%E5%92%8C%E7%AD%89%E4%BA%8E%E6%9F%90%E4%B8%AA%E5%80%BC%E6%9C%89%E5%A4%9A%E5%B0%91%E7%A7%8D%E6%96%B9%E6%B3%95-%E8%80%83%E8%99%91%E9%A1%BA%E5%BA%8F"><span class="nav-number">3.3.2.</span> <span class="nav-text">2-1 找和等于某个值有多少种方法 (考虑顺序)</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dual-Knapsack"><span class="nav-number">4.</span> <span class="nav-text">Dual Knapsack</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Dual-0-1-Knapsack"><span class="nav-number">4.1.</span> <span class="nav-text">Dual 0-1 Knapsack</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Dual-Complete-Knapsack"><span class="nav-number">4.2.</span> <span class="nav-text">Dual Complete Knapsack</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Multi-Knapsack"><span class="nav-number">5.</span> <span class="nav-text">Multi Knapsack</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BE%8B%E9%A2%98"><span class="nav-number">6.</span> <span class="nav-text">例题</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#KamaCoder-46-%E6%90%BA%E5%B8%A6%E7%A0%94%E7%A9%B6%E6%9D%90%E6%96%99"><span class="nav-number">6.1.</span> <span class="nav-text">KamaCoder 46. 携带研究材料</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#416-Partition-Equal-Subset-Sum"><span class="nav-number">6.2.</span> <span class="nav-text">416. Partition Equal Subset Sum</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1049-Last-Stone-Weight-II"><span class="nav-number">6.3.</span> <span class="nav-text">1049. Last Stone Weight II</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#494-Target-Sum"><span class="nav-number">6.4.</span> <span class="nav-text">494. Target Sum</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#474-Ones-and-Zeroes"><span class="nav-number">6.5.</span> <span class="nav-text">474. Ones and Zeroes</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#KamaCoder-52-%E6%90%BA%E5%B8%A6%E7%A0%94%E7%A9%B6%E6%9D%90%E6%96%99"><span class="nav-number">6.6.</span> <span class="nav-text">KamaCoder 52. 携带研究材料</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#518-Coin-Change-II"><span class="nav-number">6.7.</span> <span class="nav-text">518. Coin Change II</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#377-Combination-Sum-IV"><span class="nav-number">6.8.</span> <span class="nav-text">377. Combination Sum IV</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#Rust"><span class="nav-number">6.8.0.0.0.1.</span> <span class="nav-text">Rust</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#KamaCoder-57-%E7%88%AC%E6%A5%BC%E6%A2%AF"><span class="nav-number">6.9.</span> <span class="nav-text">KamaCoder 57. 爬楼梯</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#322-Coin-Change"><span class="nav-number">6.10.</span> <span class="nav-text">322. Coin Change</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#Rust-1"><span class="nav-number">6.10.0.0.0.1.</span> <span class="nav-text">Rust</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#279-Perfect-Squares"><span class="nav-number">6.11.</span> <span class="nav-text">279. Perfect Squares</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#139-Word-Break"><span class="nav-number">6.12.</span> <span class="nav-text">139. Word Break</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Perry Yao"
      src="https://avatars.githubusercontent.com/u/126999663?v=4">
  <p class="site-author-name" itemprop="name">Perry Yao</p>
  <div class="site-description" itemprop="description">...</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">50</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">14</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/PerryYao-GitHub" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;PerryYao-GitHub" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:peiyouyao@gmail.com" title="E-Mail → mailto:peiyouyao@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Perry Yao</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
